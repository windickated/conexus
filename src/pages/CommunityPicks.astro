---
import Layout from "../layouts/Layout.astro";
import stories from "../data/stories"
import StoryTile from "../components/StoryTile.svelte";

const title = 'Community Picks | CoNexus';
const header = 'Community Picks';
const subheading = `
Community Picks are stories that aren't bound to any project or genre but have been demanded, written, or voted in by the
<a href="https://magiceden.io/collections/ethereum/0xfa511d5c4cce10321e6e86793cc083213c36278e" target="_blank">Potentials</a>
holders.`;
const arrow = true;
---


<Layout {title} {header} {subheading} {arrow}>

  <section class="filters">
    <div class="filter blur">
      <img class="filter-image" src="/icons/filter.png" alt="Filter" />
    </div>
  
    <div class="filter blur">
      <img class="filter-image" src="/icons/search.png" alt="Search" />
      <input class="search-field" placeholder="Search..."/>
    </div>
  </section>

  {stories.filter(section => section.section === header).map(section => 
    <>
      {
        section.subsection.map(subsection => 
          <p class="tiles-collection-legend">{subsection.name}</p>
          <section class="tiles-collection big-collection blur">
            {subsection.story.map(story => 
              <StoryTile 
                storyName={story.title}
                storyDescription={story.description}
                storyLink={story.storyLink}
                primaryThumbnail={story.primaryThumbnail}
                secondaryThumbnail={story.secondaryThumbnail ? story.secondaryThumbnail : undefined}
                descriptionPicture={story.descriptionImage}
                storyGenre={story.genre}
                playButton="PLAY NOW"
                client:load
              />
            )}
          </section>
        )
      }
    </>
  )}

</Layout>